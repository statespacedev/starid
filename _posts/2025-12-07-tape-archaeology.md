---
layout: post
title: "tape archaeology"
---

A computing platform is never merely a collection of hardware. It is a crucible, a complex ecosystem of tools, cultural practices, and latent potential that fundamentally shapes what can be created within it. The landmark game Decwar is a powerful testament to this reality. More than just a piece of software, it stands as the intricate product of a unique and demanding development environment built upon the PDP-10 platform. The game's very architecture is a fossil record of the challenges its creators faced and the ingenious solutions they engineered, reflecting a hacker-ethos of tool-building, a disciplined engineering approach to resource management, and a pragmatic focus on automation.

An intricate, multi-stage procedure is used to compile and link the Decwar code. The process highlights a reliance on period-specific tools and methodologies that represent a sophisticated approach to software engineering for their time. Understanding this build system is crucial not only for the digital preservation of the software itself but also for appreciating the evolution of development practices. The toolchain provides a tangible link to a pivotal era in computing history, particularly through its use of tools with deep historical roots.

At the heart of this historical investigation is the Source Distribution Tape (SDT), a digital time capsule preserving the development environment in which Decwar was forged. The modern-day reconstruction project represents an act of digital archaeology, a meticulous effort to restore this ecosystem not simply to run the game, but to understand the creative and technical practices it fostered. This effort was, in fact, catalyzed by a deep investigation into the contents of the SDT.

The strategic importance of the SDT cannot be overstated. Unlike a normal transport tape intended for end-users, which would contain only the executable file and documentation, the SDT is a comprehensive snapshot of the entire development workshop. It contains not just the final product, but the raw materials, the custom-built tools, the intermediate components, and the procedural notes required to construct the game from scratch. The SDT was designed to distribute the full development environment. It contains not just the end products but the entire ecosystem of source code, intermediate object files, build tools, and documentation sources required to perform a complete, fresh build of the Decwar game.

The purpose of this document is also to provide a technical overview of the Decwar build process, detailing the file dependencies, code generation techniques, and compilation sequence. This analysis is based on the reconstruction efforts of Project SDT, which has worked to meticulously document and replicate both the contents and purpose of the essential files. An objective of the reconstruction is a SIMH tape image which enables a fresh automated build of Decwar during every start of the system.

Project SDT is a dedicated effort to reconstruct the primordial Decwar Source Distribution Tape, a task catalyzed by a deep analysis of historical files that had previously received little attention. The reconstruction's primary guide is the DECWAR.TAP file, which lists the essential contents of the source tape. While DECWAR.TAP provides the manifest of essential files, additional context is supplied by a set of implementation and commentary files: DECWAR.IMP, DECWAR.COM, HLP.COM, and MSC.COM. These documents offer descriptive annotations on the roles of various files and provide insights into the build logic that complement the simple listing in the manifest. As we will see, many of the essential source files listed in this manifest are not written by hand but are auto-generated by powerful scripting systems.

The build process is heavily dependent on tools such as TECO, RUNOFF, and MICRO. These are tools whose own history connects back to the early 1960s and the foundational era of interactive computing chronicled in Steven Levy's book Hackers. TECO was created in 1962 for MIT PDP-1s. RUNOFF was created in 1964 for the MIT CTSS system and became associated with both DEC and early Unix systems. MICRO was a tool for scripting sequences of TOPS-10 monitor commands. These tools perform the critical function of extracting specific content such as common blocks, parameters, and external declarations from large MACRO assemble source files to auto-generate FORTRAN source code.

| File Category | Description & Purpose |
| :---- | :---- |
| **Core Source Code** | The primary human-readable source files, written in a mix of FORTRAN (DECWAR.FOR, SETUP.FOR) and MACRO assembler (WARMAC.MAC, MSG.MAC). These represent the core logic and game mechanics. MSG.MAC was specifically used to "allow all this text to be loaded in the High-segment," a crucial architectural choice. |
| **Generated Source Fragments** | FORTRAN files (PARAM.FOR, HISEG.FOR, LOWSEG.FOR, EXTERN.FOR) that were not written by hand but were automatically generated from the master MACRO sources by custom tools. These were used as INCLUDE files to manage constants, memory layout, and string declarations. |
| **Build & Utility Tools** | A suite of custom tools, including TECO scripts (.TEC and .SAV files) for code generation and specialized MICRO linker and documentation scripts (L.MIC, MAKHLP.MIC). These form the heart of the automated build pipeline. |
| **Intermediate Object Files** | The compiled but not-yet-linked outputs (.REL files) from the FORTRAN and MACRO source code. These are the modular building blocks that the linker uses to generate the final executable. |
| **Executable & Game Data** | The final, playable game file DECWAR.EXE and its essential data files, such as the RUNOFF help system file DECWAR.HLP, news file DECWAR.NWS, and gripe file DECWAR.GRP. |
| **Documentation & Commentary** | Meta-files that describe the system itself, including the blueprint file DECWAR.TAP, the implementation notes file DECWAR.IMP in RUNOFF format, commentary (.COM), and the source code for help files (.RNH, .RNO). |
